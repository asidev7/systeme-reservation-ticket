{% extends "main/layout2.html" %}

{% load static %}

{% block title %}
    Créer un compte 
{% endblock %}
{% block body %}

        <style>
          body {
      
      
            background-color:#233243;
            background-size: cover;
          }
          .link-animated {
            position: relative;
            display: inline-block;
            padding: 0px;
            color: #1B5E20;
            text-decoration: none;

        }
        
        .link-animated::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 0%;
            height: 2px;
            background-color: #1B5E20;
            transition: width 0.3s ease-in-out;
            text-decoration:none;
        }
        
        .link-animated:hover::after {
            width: 100%;
            text-decoration:none;

        }
        </style>
        
  <div class="container">  
    <center>
<!--img-->
    </center>

       <div class="user-box" style="margin-top: 6vh;">
       
    
        <form action="{% url 'register' %}" method="post" id="signin-form" style="width: 100%;margin-bottom: 5vh;"  enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-group">
                <div class="form-row align-items-center">
                <div class="col-sm-6 my-1">
                    <label for="">Prénom<small class="text-danger">*</small></label>
                    <input class="form-control inp fname" type="text" name="firstname" placeholder="Ex: Patrice" autocomplete="off" autofocus>
                    <span class="star small"></span>
                </div>
                <div class="col-sm-6 my-1">
                    <label for="">Nom de famille <small class="text-danger">*</small></label>
                    <input class="form-control inp lname" type="text" name="lastname" placeholder="Ex: TALON" autocomplete="off">
                    <span class="star small"></span>
                </div>
            </div>
            </div>
            <div class="form-group">
                <label for="">Identifiant<small class="text-danger">*</small></label>
                <input class="form-control inp usrname" type="text" name="username" placeholder="Augustin7" autocomplete="off">
                <span class="star small"></span>
            </div>
            <div class="form-group">
                <label for="">Email <small class="text-danger">*</small></label>
                <input class="form-control inp email" type="email" name="email" placeholder="busticket@gmail.com" autocomplete="off">
                <span class="star small"></span>
            </div>
            <div class="form-group">
                <label for="">Mot de passe <small class="text-danger">*</small></label>
                <input class="form-control inp pswd" type="password" name="password" placeholder="ex: Deux+10#12@" autocomplete="off">
                <span class="star small"></span>
            </div>
            <div class="form-group">
                <label for="">confirmation</label>
                <input class="form-control inp cpswd" type="password" name="confirmation" placeholder="ex: Deux+10#12@" autocomplete="off">
                <span class="star small">{{message}}</span>
            </div>
            <div class="form-group form-check">
                <label class="form-check-label">
                  <input class="form-check-input" type="checkbox" id="my-checkbox"><small> En cliquant sur Inscription, vous acceptez </small><small class="text-danger">les conditions générales d'utilisation de Busticket </small>
                </label>
              </div>

            <center>
                <input class="btn" type="submit" value="S'inscrire maintenant" style="margin-top: 10px; width: 95%;background-color:#1B5E20;color:white;">
            </center>
        </form>
    
        <div>
            <center>
                <a href="{% url 'login' %}" class="link-animated">J'ai déjà un compte <i class="fa fa-angle-left"></i><i class="fa fa-angle-left"></i><i class="fa fa-angle-left"></i></a>
            </center>
        </div><br><br>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
          document.querySelectorAll(".inp").forEach(input => {
              input.addEventListener('input', () => {
                  if ((document.querySelector('.usrnm').value.length === 0) || (document.querySelector('.pswd').value.length === 0)) {
                      document.querySelector('input[type="submit"]').disabled = true;
                  }
                  else {
                      document.querySelector('input[type="submit"]').disabled = false;
                  }
              });
          });
      });


          
  </script>

      {% endblock %}


