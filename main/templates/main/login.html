{% extends "main/layout2.html" %}

{% load static %}

{% block title %}
Se connecter
{% endblock %}

{% block body %}
        <style>
 
          body {
            background-color:#233243;
            background-size: cover;
            margin:auto;
            height:400px;
          }
          .link-animated {
            position: relative;
            display: inline-block;
            padding: 0px;
            color: black;
            text-decoration: none;
            opacity:80%;

        }
        

        .link-animated::after {
          content: '';
          position: absolute;
          left: 0;
          bottom: 0;
          width: 0%;
          height: 2px;
          background-color: #1B5E20;
          transition: width 0.3s ease-in-out;
          text-decoration:none;
      }
      
      .link-animated:hover::after {
          width: 100%;
          text-decoration:none;

      }
        </style>
      </head>
      <body>
        <div class="container shadow-lg">
        </div>
        <div class="user-box " style="margin-top:30vh;box-shadow:5px 2px 2px 1px green;border-raduis:12px;text-align:center;width:400px">

          <p class="text-gray text-center pt-5"><b>Connectez-vous à votre espace</b></p>
      
          <form action="{% url 'login' %}" method="post" id="signin-form" style="width: 100%;margin-bottom: 5vh;margin-top:5vh;background-image:red;">
              {% csrf_token %}
              <div class="form-group">
                  <input class="form-control inp usrnm" type="text" name="username" placeholder="Username" autocomplete="off" autofocus>
            </div>
              <div class="form-group"> 
                  <input class="form-control inp pswd" type="password" name="password" placeholder="mot de passe" autocomplete="off">
                  <span class="star"><small>{{message}}</small></span>
              </div>
              <center>
                  <input class="btn btn-warning" type="submit" value="Se connecter" style="margin-top: 10px; width: 95%;" disabled>
              </center>
          </form>
          <div class="">
            <a href="{% url 'register' %}" class="link-animated">Pas encore de compte ?&nbsp;&nbsp;<br><a href="" class="link-animated" style="margin-left:5vh;">Mot de passe oublié </div>

            </a>
        </div>
      </div>

    </div>
</div>
      </div>
  
  
      <script>
          document.addEventListener("DOMContentLoaded", () => {
              document.querySelectorAll(".inp").forEach(input => {
                  input.addEventListener('input', () => {
                      if ((document.querySelector('.usrnm').value.length === 0) || (document.querySelector('.pswd').value.length === 0)) {
                          document.querySelector('input[type="submit"]').disabled = true;
                      }
                      else {
                          document.querySelector('input[type="submit"]').disabled = false;
                      }
                  });
              });
          });
      </script>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    
{% endblock %}




